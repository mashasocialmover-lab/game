<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Cats vs Dogs: –°–µ—Ç–µ–≤–∞—è –∏–≥—Ä–∞</title>
<link rel="stylesheet" href="style/main.css">
<script src="https://cdn.jsdelivr.net/npm/simple-peer@9.11.1/simplepeer.min.js"></script>
</head>
<body>

<!-- –≠–∫—Ä–∞–Ω –º–µ–Ω—é -->
<div id="menuScreen" class="screen">
    <div class="menu-container">
        <h1>üê±üê∂ –°–µ—Ç–µ–≤–∞—è –∏–≥—Ä–∞</h1>
        <!-- –ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã –≤–≤–µ—Ä—Ö—É (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <div id="roomCodeHeader" style="display: none; margin-bottom: 20px; text-align: center;">
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                <span style="color: white; font-size: 18px;">–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</span>
                <span id="roomCodeDisplay" style="font-size: 32px; font-weight: bold; letter-spacing: 4px; color: #4db8ff; background: rgba(0,0,0,0.5); padding: 10px 20px; border-radius: 8px; cursor: pointer; border: 2px solid #4db8ff;" onclick="copyRoomLink()" title="–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É"></span>
            </div>
        </div>
        <!-- –ò–º—è –∏–≥—Ä–æ–∫–∞ -->
        <div style="margin-bottom: 20px; text-align: center;">
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                <span style="color: white; font-size: 16px;">–í–∞—à–µ –∏–º—è:</span>
                <input type="text" id="playerNameInput" style="padding: 8px; border: 2px solid #555; border-radius: 5px; font-size: 16px; background: rgba(255,255,255,0.9); max-width: 200px;" maxlength="20">
                <button class="btn btn-primary" onclick="changePlayerName()" style="padding: 8px 16px; font-size: 14px;">–ò–∑–º–µ–Ω–∏—Ç—å</button>
            </div>
        </div>
        <div class="menu-buttons">
            <div class="menu-section" id="createRoomSection">
                <h2>–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</h2>
                <input type="text" id="roomNameInput" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã" maxlength="30">
                <button class="btn btn-primary" onclick="createRoom()">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
            <div class="menu-section">
                <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h2>
                <input type="text" id="roomCodeInput" placeholder="–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã" maxlength="6" style="text-transform: uppercase;">
                <button class="btn btn-primary" onclick="joinRoom()">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
            </div>
        </div>
    </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –∫–æ–º–Ω–∞—Ç—ã -->
<div id="roomScreen" class="screen" style="display: none;">
    <div class="room-container">
        <h2>–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã:</h2>
        <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin: 20px 0;">
            <span id="roomCode" style="font-size: 48px; font-weight: bold; letter-spacing: 8px; color: #4db8ff; background: rgba(0,0,0,0.5); padding: 20px 40px; border-radius: 10px; border: 3px solid #4db8ff; cursor: pointer;" onclick="copyRoomLink()" title="–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É"></span>
            <button class="btn btn-primary" onclick="copyRoomLink()" style="height: fit-content; padding: 15px 20px;">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
        </div>
        <div id="connectionStatus" class="status">üî¥ –û—Ç–∫–ª—é—á–µ–Ω–æ</div>
        <div class="players-section">
            <h3>–ò–≥—Ä–æ–∫–∏:</h3>
            <ul id="playersList"></ul>
        </div>
        <div class="room-buttons">
            <button class="btn btn-success" id="startGameBtn" onclick="startGame()" style="display: none;">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            <button class="btn btn-danger" onclick="location.reload()">–ü–æ–∫–∏–Ω—É—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
        </div>
    </div>
</div>

<!-- –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã -->
<div id="gameScreen" class="screen" style="display: none;">
    <div id="achievementBox">
        <span class="ach-icon">üèÜ</span>
        <span id="achText">–ú–û–õ–û–î–ï–¶!</span>
    </div>

    <div id="costumeBtn" onclick="changeCostume()" title="–ù–∞–¥–µ—Ç—å —à–∞–ø–∫—É!">üé©</div>

    <div id="instructions">
        <div class="controls-info"><b>WASD</b> - –ë–µ–≥–∞—Ç—å | <b>Q</b> - –£–¥–∞—Ä | <b>E</b> - –î–µ–π—Å—Ç–≤–∏–µ | <b>C</b> - –ö–æ—Å—Ç—é–º</div>
        <div class="legend-container">
            <span class="legend c-mouse" onclick="spawnSpecific('MOUSE')" id="legend-mouse">üê≠ –ú–´–®–¨ (1 HP)</span>
            <span class="legend c-dog" onclick="spawnSpecific('DOG')" id="legend-dog">üê∂ –°–û–ë–ê–ö–ê (5 HP)</span>
            <span class="legend c-common" onclick="spawnSpecific('RUNNER')" id="legend-cat">üêà –ö–û–¢ (3 HP)</span>
            <span class="legend c-crazy" onclick="spawnSpecific('CRAZY')">ü§™ –ü–°–ò–• (4 HP)</span>
            <span class="legend c-black" onclick="spawnSpecific('BITER')">üí£ –ë–û–ú–ë–ê (0 HP)</span>
            <span class="legend c-eater" onclick="spawnSpecific('EATER')">ü§¢ –û–ë–ñ–û–†–ê (2 HP)</span>
            <span class="legend c-player" onclick="spawnSpecific('PLAYER')">üß∂ –ò–ì–†–£–ù (2 HP)</span>
        </div>
        <div class="btn-group">
            <button class="btn pause-btn" id="pauseBtn" onclick="togglePause()">‚è∏ –°–¢–û–ü</button>
            <button class="btn clear-btn" onclick="clearAll()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
    </div>

    <canvas id="canvas1"></canvas>
</div>

<script type="module" src="js/main.js"></script>
</body>
</html>

